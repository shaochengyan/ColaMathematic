> 在学习协方差矩阵的时候，想要证明协方差矩阵的最大伸展方向即其协方差矩阵的最大特征对应的特征向量。

实对称矩阵的二次型的最值
========================

参考
----

> 没有约束条件的话，大概率最值都是无穷大。
>
> 有约束条件的话，比如限制在单位球面，那么对任意二次型（考虑实二次型），首先把它写成x'Ax的形式，其中A是一个实对称矩阵，因为A是实对称的，所以A可对角化，从而有n个实特征值，那么这个二次型在单位球面上能取到的最大值与最小值恰好是矩阵A的最大与最小特征值。
>
> 理由如下：因为A是实对称的，故可找到一组标准正交基作为A的n个特征向量（比如对A的n个线性无关的特征向量作Schmidt正交化），从而对任意单位向量，总可以写成这组标准正交基的线性表示，满足系数的平方和等于1，然后把这个线性表达式代入到二次型的矩阵表达中，就容易看出，二次型的取值一定是落在最小特征值与最大特征值之间的，

参考

- [证明:二次型f=x^TAx在||x||=1时的最大值为矩阵A的最大特征值 - 简书 (jianshu.com)](https://www.jianshu.com/p/9331f1d57934)

结论
----

实对称矩阵的二次型，在单位圆上取点时，最大值即对应$\lambda_{max}$，取值即对应单位特征向量，最小值同理。

证明
----

要求：给定实对称矩阵$A$，在$||x||_2 = 1$的条件下，求下面的二次型的最大值：
$$
f(x) = x^TAx 
$$
证明：对于实对称矩阵$A$，其一定可以进行正交分解为$A = P\Lambda P^{-1}$，其中$\Lambda$是特征值构成的特征向量，$P$的各列是对应特征值的特征向量，且$P$列向量时单位正交基。又因为$A$是正定矩阵，故$\lambda > 0$。

对任意$x$，做正交变换$x = Py$，则有：
$$
\|x\|^2_2=x^Tx=(Py)^T(Py)=y^TP^TPy=y^Ty=\|y\|^2_2
$$
从而有：
$$
\begin{split} \max_{\|x\|_2=1}f(x) &=\max_{\|x\|_2=1}x^TAx\\ &=\max_{\|y\|_2=1}y^TP^TAPy\\ &=\max_{\|y\|_2=1}y^T\Lambda y\\ &=\max_{\sum_i y_i^2=1}\sum_i \lambda_i y_i^2\\ &\leqslant \lambda_{max} \max_{\sum_i y_i^2=1}\sum_i y_i^2=\lambda_{max} \end{split}
$$
这样就证明了$f(x)$具有上界，下面证明的确能取得这个上界。假设$\lambda_{max}$是$\Lambda$对角线上第$i$个元素，其对应的特征向量为$P_{i}$，令$y = e_i$，则$x = P^{-1}y = P_i$，且此时$f(x) = \lambda_{max}$。即：在$x = P_i$时，$f(x)$取得其最大值$\lambda_{max}$，且对应的$x = P_i$。

同理，可以证明其最小值为$\lambda_{min}$，对应的$x$也是其特征向量。

从几何上理解
------------

从$y^T\Lambda y$来理解，对于一个单位圆上的任意一点$y$，将其沿着各个轴进行伸缩，然后再投影到原向量中，即为$f(y)$的值，显然，只要沿着坐标轴$e_i$进行拉伸，然后投影，其最终结果就等于拉伸的比例。

